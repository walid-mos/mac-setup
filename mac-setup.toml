# =============================================================================
# Mac Setup Configuration (TOML)
# =============================================================================
# This file defines WHAT to install (packages, apps, tools).
# For HOW to install (behavior, paths, etc.), see lib/config.sh
# =============================================================================

# -----------------------------------------------------------------------------
# Curl-based Tools
# -----------------------------------------------------------------------------
# Full installation commands (executed as-is by the curl-tools module)
[curl_tools]
claude_cli = 'curl -fsSL https://claude.ai/install.sh | bash'
fnm = 'curl -fsSL https://fnm.vercel.app/install | bash'
pnpm = 'curl -fsSL https://get.pnpm.io/install.sh | sh -'
rust = 'curl --proto "=https" --tlsv1.2 -sSf https://sh.rustup.rs | sh'

# -----------------------------------------------------------------------------
# Git Configuration
# -----------------------------------------------------------------------------
[git]
user_name = "walid-mos"
user_email = "walidmostefaoui@nextnode.fr"
push_auto_setup_remote = true

# -----------------------------------------------------------------------------
# Node.js Configuration
# -----------------------------------------------------------------------------
# Node.js version to install via fnm
# Valid values: "latest", "lts", "22", "20", or specific versions like "22.21.1"
[nodejs]
default_version = "latest"

# -----------------------------------------------------------------------------
# Homebrew Packages (Formula)
# -----------------------------------------------------------------------------
[brew.packages]
# Core development tools
core_tools = [
  "stow",
  "fzf",
  "ripgrep",
  "neovim",
  "gh",
  "glab",
  "jq",
  "tree",
  "wget",
  "dasel",
  "tw93/tap/mole"
]

# Terminal and multiplexers
terminals = [
  "ghostty"
]

# Shell enhancements
shell = [
  "starship",
  "fastfetch",
  "bat",
  "eza"
]

# Docker and containers
docker = [
  "docker",
  "colima",
  "lazydocker"
]

# Development tools
dev = [
  "git-delta",
  "yamllint",
  "mysql",
  "postgresql@18"
]

# Programming languages and compilers
languages = [
    "node",
    "python@3.11",
    "ruby", 
    "rbenv", 
]

# Deployment and infrastructure
deployment = [
  "railway"
]

# Backend services
backend = [
  "redis"
]

# File watching and development
dev_tools = [
  "watchman"
]

# Modern Rust CLI replacements (productivity boosters)
rust_modern_tools = [
  "fd",        # Modern find replacement
  "zoxide",    # Smart directory jumper
  "sd",        # Intuitive find-replace
  "just",      # Command runner
  "tokei",     # Code statistics
  "procs"      # Modern process viewer
]

# System monitoring and analysis
monitoring = [
  "btop"       # Beautiful system monitor
]

# Git workflow tools
git_tools = [
  "lazygit"    # TUI for git operations
]

# -----------------------------------------------------------------------------
# Homebrew Casks (Applications)
# -----------------------------------------------------------------------------
[brew.casks]
# Web browsers
browsers = [
  "firefox",
  "google-chrome"
]

# Productivity apps
productivity = [
  "raycast",
  "linear-linear",
  "claude"
]

# Media and communication
media = [
  "iina",
  "discord"
]

# Development tools
dev = [
  "visual-studio-code",
]

# Creative tools
creative = []

# Utilities
utilities = [
  "nordvpn",
  "the-unarchiver",
  "stats"      # Menu bar system monitor
]

# -----------------------------------------------------------------------------
# Repository Cloning
# -----------------------------------------------------------------------------
[repositories]
# GitHub organizations to clone repos from (interactive selection with fzf)
github_orgs = [
  "NextNodeSolutions",
  "walid-mos"
]

# GitLab groups to clone repos from (interactive selection with fzf)
gitlab_groups = [
  "igocreate-hermes"
]

# Mapping: organization/group → destination folder
# Repos from these orgs will be cloned to ~/Development/<destination>/
[repositories.destinations]
NextNodeSolutions = "Nextnode"
igocreate-hermes = "clients/igocreate"

# Exceptions: specific repo → custom destination
# Overrides the organization mapping for specific repos
[repositories.repo_overrides]
nextnode-front = "SaaS"
yasmine = "SaaS"
syneva = "SaaS"
kicked = "SaaS"
florist-bouquet-preview = "clients/fleurs-aujourdhui"
# Add more exceptions as needed:
# my-special-project = "clients/autre-client"

# -----------------------------------------------------------------------------
# Automatisations
# -----------------------------------------------------------------------------
# Custom automation scripts that run after all main modules
[automations]
# Master switch to enable/disable all automations
enabled = true

# Individual automation control (uncomment and set to false to disable)
# Format: <script-name-without-.sh> = true/false
# Example:
# backup-databases = true
# sync-configs = false
# install-fonts = true

# React Native iOS environment setup
setup-react-native-ios = true

# -----------------------------------------------------------------------------
# Additional Configuration
# -----------------------------------------------------------------------------
# Note: Directory paths, stow behavior, macOS defaults, and other settings
# are configured in lib/config.sh for easier modification without TOML parsing.


# -----------------------------------------------------------------------------
# NAS Auto-Mount Configuration
# -----------------------------------------------------------------------------
[automations.nas-shares]
enabled = true
server = "192.168.1.2"
display_name = "Server NAS"
username = "wmostefaoui"
mount_base = "/Volumes"
wait_timeout = 60

# Partages sélectionnés (modifiable)
shares = ["Storage", "photo", "Exchange", "Medias"]

# -----------------------------------------------------------------------------
# Mail Account Configuration
# -----------------------------------------------------------------------------
# Email accounts will be pre-configured via mobileconfig profiles
# Profiles are generated and saved to ~/Desktop/mail-profiles/
# User must install them via System Settings > Profiles
[mail]
enabled = true

# Account configurations
# Supported types: "Gmail", "Microsoft", "iCloud", "IMAP"

# Gmail Pro
[[mail.accounts]]
name = "Gmail Pro"
email = "pro.walid.mostefaoui@gmail.com"
display_name = "Walid Mostefaoui"
type = "Gmail"  # Auto-configured with Gmail defaults

# Gmail Old (moins important)
[[mail.accounts]]
name = "Gmail Old"
email = "w.mostefaoui@gmail.com"
display_name = "Walid Mostefaoui"
type = "Gmail"  # Auto-configured with Gmail defaults

# Nextnode (IMAP)
[[mail.accounts]]
name = "Nextnode"
email = "walidmostefaoui@nextnode.fr"
display_name = "Walid Mostefaoui"
type = "IMAP"
imap_server = "mail.infomaniak.com"
imap_port = 993
imap_username = "walidmostefaoui@nextnode.fr"
smtp_server = "mail.infomaniak.com"
smtp_port = 587
smtp_username = "walidmostefaoui@nextnode.fr"

# Outlook Principale (Exchange)
[[mail.accounts]]
name = "Outlook Principale"
email = "w.mostefaoui@outlook.fr"
display_name = "Walid Mostefaoui"
type = "Microsoft"  # Auto-configured with Microsoft/Outlook defaults

# Outlook Secondaire (Exchange)
[[mail.accounts]]
name = "Outlook Secondaire"
email = "w.mostefaoui.2@outlook.fr"
display_name = "Walid Mostefaoui"
type = "Microsoft"  # Auto-configured with Microsoft/Outlook defaults
